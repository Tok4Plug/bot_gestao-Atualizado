# alembic.ini - versão avançada para estrutura completa

[alembic]
# Diretório onde ficam as migrations
script_location = alembic
# Template para naming de migration automática
version_locations = %(here)s/versions
# Configuração para usar variáveis de ambiente para a URL do banco
sqlalchemy.url = ${DATABASE_URL}

# Logging detalhado para Alembic e SQLAlchemy
[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

# Logger raiz
[logger_root]
level = INFO
handlers = console
qualname =

# Logger SQLAlchemy
[logger_sqlalchemy]
level = INFO
handlers = console
qualname = sqlalchemy.engine

# Logger Alembic
[logger_alembic]
level = INFO
handlers = console
qualname = alembic

# Handler de console
[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

# Formatter genérico
[formatter_generic]
format = %(asctime)s [%(levelname)s] %(name)s: %(message)s
datefmt = %Y-%m-%d %H:%M:%S

# Outras configurações opcionais
[post_write_hooks]
# Exemplo: hook para rodar lint ou testes depois da migration
# hooks = my_post_write_hook